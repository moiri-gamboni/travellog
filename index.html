<!DOCTYPE html>
<html ng-app="mainModule">
<head>
	<link rel="stylesheet" type="text/css" href="/static/css/style.css">
	<link rel="stylesheet" type="text/css" href="/static/css/loading.css">
	<link href='http://fonts.googleapis.com/css?family=Fenix' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Roboto:400,300,500' rel='stylesheet' type='text/css'>
	<meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0" />
	<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
	<script type="text/javascript"
	src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDEaBU9ut05NvkD4_k72xRDGuVYr_ucPZc&sensor=false">
	</script>
</head>
<body ng-controller="mainCtrl">
	<div data-counter="0" class="background background-0 slow-fade active"></div>
	<div data-counter="1" class="background background-1 slow-fade passive"></div>

	<ul id="loading" class="bokeh fade">
		<li id="child-1"></li>
		<li id="child-2"></li>
		<li id="child-3"></li>
		<li id="child-4"></li>
	</ul>

	<div id="launch-screen">
		<div id="whiteshade"></div>
		<div id="logo" ng-click="begin()">
			<hr class="top-bar">
			<h1>Travellog</h1>
			<hr>
		</div>
		<p> Stories that travel </p>
		<h3 id="start-here" class="fade" ng-click="begin()"> Begin </h3>
	</div>

	<div id="container" class="hide">
		<div id="minimap">
			<div id="map-canvas"></div>
		</div>
		<div id="overlay">
			<div id="blackblur" ></div>
			<h2 id="escape" ng-click="deactiveOverlay()" class="fade">X</h2>
			<div id="overlay-content" ng-controller="MyFilesController">
			<!-- 	<div ng-hide="loggedIn">

		</div> -->
			<div id="add-map-canvas" ng-class="{show: getShowing() == 'loggedIn'}"></div>


			<div class="message" ng-show="getShowing() == 'loading'" class="push-down">
				{{loadingMessage}}
			</div>
			<div id="complete" class="message" ng-show="getShowing() == 'complete'" class="push-down">
				{{successMessage}}<br/><br/>
				<a class="link" href={{completeUrl}}>{{completeUrl}}</a><br/><br/>
				<button ng-click="submitAgain()" class="fade">Submit Another</button>
			</div>
			<div ng-show="getShowing() =='login'" class="push-down">
				<br/>
				<br/>
				<h4> Share Your Story</h4>
					Share your experiences with the world! We use Google Drive to store our logs, so we just need you to log into your Google account so that we can share your story!
				<button id="authorize-button" ng-click="startLogin()" class="fade">Start</button>

			</div>
			<div id="search" ng-show="getShowing() =='loggedIn'" class="message">
				<span class="white small">Select your story from the drive, and place it on the map. Future changes on Google Drive will sync automatically.</span>
				<button ng-click="upload()" ng-class="{active: canSubmit()}">Submit</button>
				<input ng-model="query" placeholder="search">
				<ul decorations:"none">
					<li ng-class="{active: isSelected(file)}" ng-repeat="file in myfiles | filter:query | limitTo:5" ng-click="selectFile(file)">
						{{file.title}}
					</li>
				</ul>
			</div>
			<div class="message" ng-show="getShowing() =='help'">
				Travellog is a place to explore, learn and share. <br/>It is what you make of it.
			</div>

		</div>
	</div>
	<div id="blackshade" ></div>

	<log></log>
	<otherlog></otherlog>
	<div class="sidenav sidenav-left" ng-click="move('W')">
		<div class="arrow arrow-left-right arrow-left"></div>
	</div>
	<div class="sidenav sidenav-right" ng-click="move('E')">
		<div class="arrow arrow-left-right arrow-right"></div>
	</div>
	<div class="sidenav sidenav-top" ng-click="move('N')">
		<div class="arrow arrow-up-down arrow-up"></div>
	</div>
	<div class="sidenav sidenav-bottom" ng-click="move('S')">
		<div class="arrow arrow-up-down arrow-down"></div>
	</div>
	<div id="nav" ng-controller="MyFilesController">
		<img id="add" ng-click="changeShowing('addFile')" src="/static/img/addIcon.png"/>
		<img id="question" ng-click="changeShowing('help')" src="/static/img/questionIcon.png"/>
	</div>
</div>

<script type="text/javascript" src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
<script type="text/javascript"
src="/static/js/jquery.transit.min.js">
</script>
<script type="text/javascript" src='/static/lib/angular/angular.js'></script>
<script type="text/javascript" src='/static/lib/angular/angular-sanitize.js'></script>
<script type="text/javascript" src='/static/js/app.js'></script>
<script type="text/javascript" src='/static/js/helpers.js'></script>
<script type="text/javascript" src='/static/js/services.js'></script>
<script type="text/javascript" src='/static/js/directives.js'></script>
<script type="text/javascript" src='/static/js/controllers.js'></script>
<script type="text/javascript" src="/static/js/index.js"></script>
<script type="text/javascript" src="/static/js/gservices.js"></script>
<script type="text/javascript" src="/static/js/gmaps.js"></script>
<script src="https://apis.google.com/js/client.js?onload=handleClientLoad"></script>
</body>
</html>
